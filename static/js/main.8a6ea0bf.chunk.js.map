{"version":3,"sources":["hooks/useAuthState.js","config/firebase.js","login/signInWithGoogle.js","login/signOut.js","components/ButtonSingIn.js","components/ItemBoletin.js","components/helpers/get-idx-academico.js","components/helpers/get-idx-general.js","components/helpers/get-idx-tecnico.js","components/helpers/order-by.js","components/ListaBoletines.js","hooks/useFetch.js","api/getReportsURL.js","components/SearchBar.js","hooks/useForm.js","components/ButtonSignOut.js","components/Menu.js","App.js","reportWebVitals.js","index.js"],"names":["useAuthState","auth","useState","initializing","setInitializing","user","setUser","useEffect","onAuthStateChanged","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","googleAuthProvider","GoogleAuthProvider","signInWithGoogle","a","useDeviceLanguage","signInWithPopup","console","error","message","signOut","ButtonSingIn","onClick","children","className","ItemBoletin","estudiante","nombre_estudiante","numero_estudiante","asignaturas","map","asignatura","codigo_asignatura","modulos","modulo","idx_academico","idx_tecnico","idx_general","curso","getIdxAcademico","sum_calificacion_final","asignaturas_length","forEach","index","parseFloat","cf","getIdxGeneral","idxAcademico","idxTecnico","getIdxTecnico","sum_acumulado_modulos","modulos_length","acumulado","fct_transformado","total","orderBy","ranking","selected","filter","ap","bp","b","sort","numA","numB","ListaBoletines","url","orden","isMounted","useRef","data","loading","state","setState","current","fetch","then","resp","json","catch","useFetch","log","ranking_desorder","dato","length","periodo","algoritmoRanking","_id","getReportsURL","string_params","encodeURI","SearchBar","handleUrl","initialState","values","setValues","target","name","value","useForm","ordenar","formValues","handleInputChange","reset","onSubmit","e","preventDefault","info","type","placeholder","required","onChange","id","ButtonSingOut","Menu","src","alt","singOut","App","setOrdenar","itializing","renderLoading","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a6ea0bf.chunk.js","sourcesContent":["\r\nimport { useState, useEffect } from \"react\";\r\n\r\nfunction useAuthState(auth) {\r\n  const [initializing, setInitializing] = useState(true);\r\n  const [user, setUser] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubcribe = auth.onAuthStateChanged((user) => {\r\n      if (user) setUser(user);\r\n      else setUser(false);\r\n\r\n      if (initializing) setInitializing(false);\r\n    });\r\n\r\n    return unsubcribe;\r\n  }, [auth, initializing]);\r\n\r\n  return { user, initializing };\r\n}\r\n\r\nexport default useAuthState;","import firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyB_WMkXgz1VGadOYztJs7OY30aSEZTuGIg\",\r\n    authDomain: \"rankings-cemas.firebaseapp.com\",\r\n    projectId: \"rankings-cemas\",\r\n    storageBucket: \"rankings-cemas.appspot.com\",\r\n    messagingSenderId: \"193263297303\",\r\n    appId: \"1:193263297303:web:f285432a75d975d8944d52\",\r\n    measurementId: \"G-V17NRJM8LM\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Database\r\nconst db = firebase.firestore();\r\n// Google Login\r\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport { db, googleAuthProvider, firebase };","// Import firebaseConfig\r\nimport { googleAuthProvider, firebase } from \"../config/firebase\";\r\n\r\nconst signInWithGoogle = async () => {\r\n  firebase.auth().useDeviceLanguage();\r\n\r\n  try {\r\n    await firebase.auth().signInWithPopup(googleAuthProvider);\r\n  } catch (e) {\r\n    console.error(e.message);\r\n  }\r\n};\r\n\r\nexport default signInWithGoogle;","// Import firebaseConfig\r\nimport { firebase } from \"../config/firebase\";\r\n\r\nconst signOut = async () => {\r\n  try {\r\n    await firebase.auth().signOut();\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nexport default signOut;","\r\nconst ButtonSingIn = ({ \r\n    onClick = null, \r\n    children = null \r\n}) => \r\n(   \r\n    <div className=\"container_center\">\r\n        <button className=\"log_in\" onClick={onClick}> {children} </button>\r\n    </div>\r\n);\r\n  \r\n  export default ButtonSingIn;","// import React, { useState } from 'react'\r\n\r\nconst ItemBoletin = ({ estudiante }) => {\r\n    // const [active] = useState('')\r\n\r\n    return (\r\n            <article>\r\n                <h3 className=\"nombre\">{estudiante.nombre_estudiante}<span className=\"numero\">#{estudiante.numero_estudiante}</span></h3>\r\n                <div className=\"datos\">\r\n                    <p><span>Asignaturas :</span> {estudiante.asignaturas.map(asignatura => <span>{asignatura.codigo_asignatura}</span>)}</p>\r\n                    <p><span>Módulos :</span> {estudiante.modulos.map(modulo => <span>{modulo.codigo_asignatura} </span> )}</p>\r\n                    <p><span>Promedio Acádemico :</span> {`${estudiante.idx_academico}`}</p>\r\n                    <p><span>Promedio Técnico :</span> {`${estudiante.idx_tecnico}`}</p>\r\n                    <p><span>Promedio General :</span> {`${estudiante.idx_general}`}</p>\r\n                    <div className=\"grado\">\r\n                        <span>{estudiante.curso}</span>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n    )\r\n}\r\n\r\nexport default ItemBoletin;\r\n","const getIdxAcademico = (asignaturas) => {\r\n  let sum_calificacion_final = 0,\r\n    asignaturas_length = 0,\r\n    idx_academico = 0;\r\n\r\n  if (asignaturas) {\r\n    // Recorrer las asignaturas\r\n    asignaturas.forEach((asignatura, index) => {\r\n      sum_calificacion_final += parseFloat(asignatura.cf);\r\n      asignaturas_length = index;\r\n    });\r\n\r\n    // Obtener el promedio de las asignaturas\r\n    idx_academico = sum_calificacion_final / (asignaturas_length + 1);\r\n    return idx_academico;\r\n  }\r\n  // Return 0 si asignaturas es null o []\r\n  else return 0;\r\n};\r\n\r\nexport default getIdxAcademico;\r\n","const getIdxGeneral = (idxAcademico, idxTecnico) => {\r\n  // Calculamos idx general si idx academica y idx tecnica existen.\r\n  if (idxAcademico && idxTecnico) return (idxTecnico + idxAcademico) / 2;\r\n  // Calculamos idx general si idx academica existe y idx tecnica no existe.\r\n  if (idxAcademico && !idxTecnico) return idxAcademico;\r\n  // De lo contrario retornamos 0 para evitar errores.\r\n  return 0;\r\n};\r\n\r\nexport default getIdxGeneral;\r\n","\r\nconst getIdxTecnico = (modulos, curso) => {\r\n  let sum_acumulado_modulos = 0,\r\n    modulos_length = 0,\r\n    idx_tecnico = 0;\r\n\r\n  switch (curso[0]) {\r\n    case \"4\":\r\n    case \"5\":\r\n      // Recorrer los modulos\r\n      modulos.forEach((asignatura, index) => {\r\n        sum_acumulado_modulos += parseFloat (asignatura.acumulado);\r\n        modulos_length = index;\r\n      });\r\n\r\n      // Obtener el promedio de los modulos\r\n      idx_tecnico = sum_acumulado_modulos / (modulos_length + 1);\r\n      return idx_tecnico;\r\n    case \"6\":\r\n      // Recorrer los modulos\r\n      modulos.forEach((asignatura, index) => {\r\n        if (asignatura.codigo_asignatura === \"MF0000_FCT\") {\r\n          let fct_transformado = (parseFloat(asignatura.acumulado) * 100) / asignatura.total;\r\n          let fct_acumulado = fct_transformado;\r\n          sum_acumulado_modulos += fct_acumulado;\r\n        } else sum_acumulado_modulos += parseFloat(asignatura.acumulado);\r\n        modulos_length = index;\r\n      });\r\n\r\n      // Calcular el indice tecnico:\r\n      idx_tecnico = sum_acumulado_modulos / (modulos_length + 1);\r\n      return idx_tecnico;\r\n    default:\r\n      // Si retorna null es porque no exixten materias técnicas.\r\n      return null;\r\n  }\r\n};\r\n\r\nexport default getIdxTecnico;\r\n","import { getByLabelText } from \"@testing-library/dom\";\r\n\r\nconst orderBy = (ranking, selected) => {\r\n  const filter = (ap, bp) => {\r\n\r\n    const a = ap ? ap : 0;\r\n    const b = bp ? bp : 0;\r\n\r\n    if (a < b) return 1;\r\n    if (a > b) return -1;\r\n    return 0; // a must be equal to b\r\n  };\r\n\r\n  // idx_academico: 49.75\r\n  // idx_general: 58\r\n  // idx_tecnico: 66.25\r\n  // numero_estudiante: \"4\" = 4\r\n\r\n  return ranking.sort((a, b) => {\r\n    // let selected = \"idx-academico\";\r\n\r\n\r\n    switch (selected) {\r\n      case \"num-lista\":\r\n       \r\n        let numA = parseFloat(a.numero_estudiante),\r\n          numB = parseFloat(b.numero_estudiante);\r\n        return filter(numB, numA);\r\n\r\n      case \"idx-academico\":\r\n       \r\n        return filter(a.idx_academico, b.idx_academico);\r\n\r\n      case \"idx-tecnico\":\r\n        \r\n        return filter(a.idx_tecnico, b.idx_tecnico);\r\n\r\n      case \"idx-general\":\r\n        \r\n        return filter(a.idx_general, b.idx_general);\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  });\r\n};\r\n\r\nexport default orderBy;\r\n","import { useFetch } from \"../hooks/useFetch\";\r\nimport ItemBoletin from \"./ItemBoletin\";\r\nimport {\r\n    getIdxAcademico,\r\n    getIdxGeneral,\r\n    getIdxTecnico,\r\n    orderBy\r\n} from \"./helpers\";\r\n\r\nexport default function ListaBoletines({ url, orden }) {\r\n\r\n   \r\n    //{ data: null, loading: true, error: null }\r\n\r\n    const { data, loading, error } = useFetch(url);\r\n\r\n    if (loading && url) {\r\n\r\n        return <h1 className=\"load\">Loading..</h1>\r\n    } else if (error) {\r\n        console.log(error);\r\n        return <h3>{error}</h3>\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n    // Algoritmo de ranking sobre data\r\n    const algoritmoRanking = (json) => {\r\n\r\n        const valid = json.data.filter(dato => (dato.asignaturas.length > 2));\r\n\r\n        const ranking_desorder = valid.map(estudiante => {\r\n\r\n\r\n            //obtener idx_academico\r\n            const idx_academico = getIdxAcademico(estudiante.asignaturas);\r\n\r\n            //obtener idx_tecnico\r\n            const idx_tecnico = getIdxTecnico(estudiante?.modulos, estudiante?.curso);\r\n\r\n            //obtener idx_general\r\n            const idx_general = getIdxGeneral(idx_academico, idx_tecnico);\r\n\r\n            //obtener curso\r\n            const curso = estudiante.curso;\r\n\r\n            // obtener periodo\r\n            const periodo = estudiante.periodo;\r\n\r\n           \r\n\r\n            return {\r\n                ...estudiante,\r\n                idx_academico,\r\n                idx_tecnico,\r\n                idx_general,\r\n                curso,\r\n                periodo\r\n            }\r\n\r\n        })\r\n\r\n\r\n        const ranking_order = orderBy(ranking_desorder, orden);\r\n\r\n        return ranking_order;\r\n    }\r\n\r\n    //llamo el algoritmo\r\n\r\n    const ranking = algoritmoRanking(data);\r\n\r\n    \r\n    \r\n    return (\r\n        <>\r\n            <h2>\r\n                <span className=\"encabezado_boletines\">Lista de boletines de los estudiantes:</span>\r\n                <span className=\"periodo\">{ranking[0].periodo}</span>\r\n            </h2>\r\n            <hr />\r\n            <div className=\"list-group\">\r\n                {ranking.map(estudiante => <ItemBoletin key={estudiante._id} estudiante={estudiante} />)}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\n\r\nexport const useFetch = (url) => {\r\n\r\n    const isMounted = useRef(true);\r\n    const [state, setState] = useState({ data: null, loading: true, error: null });\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setState({ data: null, loading: true, error: null });\r\n\r\n        fetch(url)\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n\r\n                if (isMounted.current) {\r\n                    setState({\r\n                        loading: false,\r\n                        error: null,\r\n                        data\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch(() => {\r\n                setState({\r\n                    data: null,\r\n                    loading: false,\r\n                    error: 'No se pudo cargar la info'\r\n                })\r\n            })\r\n\r\n    }, [url])\r\n\r\n    return state;\r\n}\r\n\r\n\r\n\r\n/**\r\n * # useFetch\r\n\r\nEjemplo:\r\n```\r\n    const url = 'endpoint de una api';\r\n    const { data: null, loading: true, error: null } = useFetch(url);\r\n\r\n```\r\n */","const getReportsURL = (curso, periodo) => {\r\n\r\n\t/**\r\n\t * @description: Obtener todos los reportes por curso y periodo. \r\n\t * @param\t{String}\tcurso Ejemplo: \"4A\"\r\n\t * @param\t{String}\tPeriodo Ejemplo: \"2020-2021\"\r\n\t * @URL https://cemasapi.herokuapp.com/reportes/boletin/4A:2020-2021:\r\n\t * @return  {String}\tURL\t String URL .\r\n\t */\r\n\r\n\r\n\tconst url = `/reportes`;\r\n\tlet string_params = `/boletin/${curso}:${periodo}:`;\r\n\tconst URL_API = 'https://cemasapi.herokuapp.com';\r\n\r\n\r\n\tconst urlComplete = `${URL_API}${url}${encodeURI(string_params)}`;\r\n\treturn urlComplete;\r\n};\r\n\r\nexport default getReportsURL;","import React from 'react'\r\nimport getReportsURL from '../api/getReportsURL';\r\nimport { useForm } from '../hooks/useForm'\r\n\r\nexport default function SearchBar({ handleUrl }) {\r\n\r\n    const initialForm = {\r\n        curso: '',\r\n        periodo: '',\r\n        ordenar: 'num-lista',\r\n\r\n    };\r\n\r\n\r\n    const [formValues, handleInputChange, reset] = useForm(initialForm);\r\n\r\n    const { curso, periodo, ordenar } = formValues;\r\n\r\n\r\n    const loadRecords = (e) => {\r\n        e.preventDefault();\r\n        console.info(\"Form Values: \", curso, periodo, ordenar);\r\n\r\n        const url = getReportsURL(curso, periodo);\r\n        console.info(\"URL: \", url);\r\n\r\n        handleUrl(url, ordenar);\r\n        reset();\r\n\r\n    }\r\n\r\n    return (\r\n        <nav>\r\n            <form onSubmit={loadRecords} /* autoComplete=\"off\" */>\r\n                <div className=\"form-row\">\r\n\r\n                    <label className=\"col-md-3 col-sm-6\">\r\n                        <span>Curso</span>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"curso\"\r\n                            placeholder=\"6D\"\r\n                            required\r\n                            name=\"curso\"\r\n                            value={curso}\r\n                            onChange={handleInputChange}\r\n                        />\r\n                    </label>\r\n\r\n                    <label className=\"col-md-3 col-sm-6\">\r\n                        <span>Periodo</span>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"periodo\"\r\n                            placeholder=\"2020-2021\"\r\n                            required\r\n                            name=\"periodo\"\r\n                            value={periodo}\r\n                            onChange={handleInputChange}\r\n                        />\r\n                    </label>\r\n\r\n                    <label className=\"col-md-4 col-sm-6\">\r\n                        <span>Ordenar</span>\r\n                        <select id=\"filter\" className=\"filter dropdown\" name=\"ordenar\" value={ordenar} onChange={handleInputChange}>\r\n                            <option value=\"num-lista\">Número (Defecto)</option>\r\n                            <option value=\"idx-academico\">Indice Académico</option>\r\n                            <option value=\"idx-tecnico\">Indice Técnico</option>\r\n                            <option value=\"idx-general\">Indice General</option>\r\n                        </select>\r\n                    </label>\r\n\r\n                    <div className=\"container-button col-md-2 col-sm-6\">\r\n                        <button className=\"buscar\" type=\"submit\">Buscar</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </nav>\r\n    )\r\n}\r\n","import { useState } from \"react\"\r\n\r\n\r\nexport const useForm = (initialState = {}) => {\r\n   \r\n\r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setValues(initialState);\r\n    }\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [target.name]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [values, handleInputChange, reset];\r\n\r\n}\r\n\r\n\r\n /*\r\n        # useForm\r\n\r\n        Ejemplo:\r\n\r\n            const initialForm = {\r\n                name: '',\r\n                age: 0,\r\n                email: ''\r\n            };\r\n            \r\n        const [ formValues, handleInputChange, reset ] = useForm( initialForm );\r\n    */","\r\nconst ButtonSingOut = ({ \r\n    onClick = null, \r\n    children = null \r\n}) => \r\n(\r\n    <button className=\"log_out\" onClick={onClick}> {children} </button>\r\n  );\r\n  \r\nexport default ButtonSingOut;","import ButtonSingOut from './ButtonSignOut';\r\nimport singOut from '../login/signOut';\r\n\r\nconst Menu = () => {\r\n  return (\r\n  <div className=\"menu container-fluid\">\r\n    <div className=\"row\">\r\n      <header className=\"col-lg-12\">\r\n        <div className=\"cemas\">\r\n          <img className=\"logo\" src=\"https://i.imgur.com/KT8UtmZ.png\" alt=\"\"/>\r\n          <h1 className=\"title\">Ranking Cemas</h1>\r\n        </div>\r\n        <ButtonSingOut onClick={ singOut }> Salir </ButtonSingOut> \r\n      </header>\r\n    </div>  \r\n  </div>\r\n  \r\n  );\r\n};\r\n\r\nexport default Menu;\r\n\r\n","import { useState } from 'react';\r\nimport { useAuthState } from './hooks';\r\n\r\n// Import firebaseConfig\r\nimport { firebase } from \"./config/firebase\";\r\nimport './config/firebase';\r\n\r\n// Import Sign In With Google\r\nimport { signInWithGoogle } from \"./login\";\r\n\r\n// Import Components\r\nimport ButtonSingIn from \"./components/ButtonSingIn\";\r\nimport ListaBoletines from './components/ListaBoletines';\r\nimport SearchBar from './components/SearchBar';\r\nimport Menu from \"./components/Menu\";\r\n\r\nfunction App() {\r\n  const [state, setState] = useState(null);\r\n  const [ordenar, setOrdenar] = useState(\"num-lista\")\r\n\r\n  \r\n\r\n\r\n  const handleUrl = (url, ordenar) => {\r\n    setState(url);\r\n    setOrdenar(ordenar);\r\n  };\r\n\r\n\r\n  const { user, itializing } = useAuthState(firebase.auth());\r\n  const renderLoading = () => {\r\n    if (itializing)\r\n      return (\r\n        <div>\r\n          <h3>Loading...</h3>\r\n        </div>\r\n      );\r\n  };\r\n  return (\r\n    <div>\r\n      {renderLoading()}\r\n      { user ? (\r\n        <>\r\n          <Menu />\r\n          <div className=\"container\" id=\"ranking\">\r\n            <SearchBar handleUrl={handleUrl} />\r\n            {/* <h3>Lista de boletines de {curso} {periodo}:</h3> */}\r\n            {/* <hr /> */}\r\n            {state && <ListaBoletines url={state} orden={ordenar} />}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <ButtonSingIn onClick={signInWithGoogle}>\r\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/768px-Google_%22G%22_Logo.svg.png\" alt=\"\"></img>\r\n            Sign in with Google\r\n        </ButtonSingIn>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport \"./styles/index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}